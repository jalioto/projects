/* CSS Custom Properties for Dynamic Theming */
:root {
    --primary-color: #6366f1;
    --secondary-color: #8b5cf6;
    --accent-color: #f59e0b;
    --bg-color: #0f172a;
    --text-color: #f8fafc;
    --glass-bg: rgba(255, 255, 255, 0.1);
    --glass-border: rgba(255, 255, 255, 0.2);
}

[data-theme="neon"] {
    --primary-color: #00ff88;
    --secondary-color: #ff0080;
    --accent-color: #00d4ff;
    --bg-color: #000011;
    --text-color: #ffffff;
}

[data-theme="sunset"] {
    --primary-color: #ff6b35;
    --secondary-color: #f7931e;
    --accent-color: #ffcd3c;
    --bg-color: #2d1b69;
    --text-color: #fff8e1;
}

/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Arial', sans-serif;
    background: var(--bg-color);
    color: var(--text-color);
    overflow-x: hidden;
    cursor: none;
}

/* Custom Cursor */
.cursor-follower {
    position: fixed;
    width: 20px;
    height: 20px;
    background: radial-gradient(circle, var(--primary-color), transparent);
    border-radius: 50%;
    pointer-events: none;
    z-index: 9999;
    transition: transform 0.1s ease;
    mix-blend-mode: difference;
}

/* Hero Section with Animated Background */
.hero {
    height: 100vh;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

.animated-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, var(--bg-color), var(--primary-color), var(--secondary-color));
    background-size: 400% 400%;
    animation: gradientShift 8s ease infinite;
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.floating-shapes {
    position: absolute;
    width: 100%;
    height: 100%;
}

.shape {
    position: absolute;
    border-radius: 50%;
    filter: blur(1px);
    animation: float 6s ease-in-out infinite;
}

.shape-1 {
    width: 80px;
    height: 80px;
    background: var(--accent-color);
    top: 20%;
    left: 10%;
    animation-delay: 0s;
}

.shape-2 {
    width: 120px;
    height: 120px;
    background: var(--primary-color);
    top: 60%;
    right: 15%;
    animation-delay: 2s;
}

.shape-3 {
    width: 60px;
    height: 60px;
    background: var(--secondary-color);
    bottom: 30%;
    left: 20%;
    animation-delay: 4s;
}

.shape-4 {
    width: 100px;
    height: 100px;
    background: var(--accent-color);
    top: 10%;
    right: 30%;
    animation-delay: 1s;
}

@keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    33% { transform: translateY(-30px) rotate(120deg); }
    66% { transform: translateY(30px) rotate(240deg); }
}

.hero-content {
    text-align: center;
    z-index: 2;
    position: relative;
}

/* Glitch Text Effect */
.glitch-text {
    font-size: 4rem;
    font-weight: bold;
    position: relative;
    color: var(--text-color);
    animation: glitch 2s infinite;
}

.glitch-text::before,
.glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.glitch-text::before {
    animation: glitch-1 0.5s infinite;
    color: var(--primary-color);
    z-index: -1;
}

.glitch-text::after {
    animation: glitch-2 0.5s infinite;
    color: var(--secondary-color);
    z-index: -2;
}

@keyframes glitch {
    0%, 100% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
}

@keyframes glitch-1 {
    0%, 100% { transform: translate(0); }
    10% { transform: translate(-2px, -2px); }
    20% { transform: translate(2px, 2px); }
}

@keyframes glitch-2 {
    0%, 100% { transform: translate(0); }
    30% { transform: translate(2px, -2px); }
    60% { transform: translate(-2px, 2px); }
}

/* Typewriter Effect */
.typewriter {
    font-size: 1.5rem;
    margin: 2rem 0;
    overflow: hidden;
    border-right: 3px solid var(--primary-color);
    white-space: nowrap;
    animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
}

@keyframes typing {
    from { width: 0; }
    to { width: 100%; }
}

@keyframes blink-caret {
    from, to { border-color: transparent; }
    50% { border-color: var(--primary-color); }
}

/* Morphing Button */
.morphing-btn {
    padding: 1rem 2rem;
    font-size: 1.2rem;
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    border: none;
    border-radius: 50px;
    color: white;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
    transform-style: preserve-3d;
}

.morphing-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.5s;
}

.morphing-btn:hover::before {
    left: 100%;
}

.morphing-btn:hover {
    transform: translateY(-5px) rotateX(15deg);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}

/* Glass Morphism Section */
.glass-section {
    padding: 5rem 2rem;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    position: relative;
}

.glass-card {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 3rem;
    text-align: center;
    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
    max-width: 400px;
}

.glass-buttons {
    margin-top: 2rem;
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.glass-btn {
    padding: 0.8rem 1.5rem;
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 10px;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
}

.glass-btn:hover {
    background: rgba(255,255,255,0.2);
    transform: translateY(-2px);
}

.glass-btn.secondary {
    background: rgba(0,0,0,0.1);
}

/* 3D Transforms Section */
.transforms-section {
    padding: 5rem 2rem;
    text-align: center;
    background: var(--bg-color);
}

.section-title {
    font-size: 3rem;
    margin-bottom: 3rem;
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.cube-container {
    perspective: 1000px;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 300px;
}

.cube {
    position: relative;
    width: 200px;
    height: 200px;
    transform-style: preserve-3d;
    animation: rotateCube 10s infinite linear;
}

.face {
    position: absolute;
    width: 200px;
    height: 200px;
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    border: 2px solid var(--accent-color);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: bold;
}

.front { transform: rotateY(0deg) translateZ(100px); }
.back { transform: rotateY(180deg) translateZ(100px); }
.right { transform: rotateY(90deg) translateZ(100px); }
.left { transform: rotateY(-90deg) translateZ(100px); }
.top { transform: rotateX(90deg) translateZ(100px); }
.bottom { transform: rotateX(-90deg) translateZ(100px); }

@keyframes rotateCube {
    0% { transform: rotateX(0deg) rotateY(0deg); }
    100% { transform: rotateX(360deg) rotateY(360deg); }
}

/* CSS Grid Art */
.grid-art-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--bg-color), var(--primary-color));
}

.grid-art {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    gap: 10px;
    max-width: 400px;
    height: 400px;
    margin: 0 auto;
}

.grid-item {
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    border-radius: 10px;
    transition: all 0.3s ease;
    animation: gridPulse 2s ease-in-out infinite;
}

.grid-item:hover {
    transform: scale(1.1);
    z-index: 1;
}

.item-1 { animation-delay: 0.1s; }
.item-2 { animation-delay: 0.2s; }
.item-3 { animation-delay: 0.3s; }
.item-4 { animation-delay: 0.4s; }
.item-5 { animation-delay: 0.5s; }
.item-6 { animation-delay: 0.6s; }
.item-7 { animation-delay: 0.7s; }
.item-8 { animation-delay: 0.8s; }
.item-9 { animation-delay: 0.9s; }

@keyframes gridPulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}

/* Clip Path Section */
.clip-path-section {
    padding: 5rem 2rem;
    text-align: center;
    background: var(--bg-color);
}

.clip-shapes {
    display: flex;
    justify-content: center;
    gap: 3rem;
    flex-wrap: wrap;
}

.clip-shape {
    width: 200px;
    height: 200px;
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    transition: all 0.5s ease;
    cursor: pointer;
}

.polygon {
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
}

.polygon:hover {
    clip-path: polygon(20% 0%, 0% 20%, 30% 50%, 0% 80%, 20% 100%, 50% 70%, 80% 100%, 100% 80%, 70% 50%, 100% 20%, 80% 0%, 50% 30%);
}

.circle {
    clip-path: circle(50% at 50% 50%);
}

.circle:hover {
    clip-path: circle(70% at 50% 50%);
}

.triangle {
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
}

.triangle:hover {
    clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
}

/* Theme Section */
.theme-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
    position: relative;
    overflow: hidden;
}

.theme-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 30% 70%, rgba(255,255,255,0.1) 0%, transparent 50%);
    pointer-events: none;
}

.theme-switcher {
    margin-bottom: 3rem;
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
    position: relative;
    z-index: 2;
}

.theme-btn {
    padding: 1rem 2rem;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 2px solid var(--glass-border);
    border-radius: 25px;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: bold;
    position: relative;
    overflow: hidden;
}

.theme-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
}

.theme-btn:hover::before {
    left: 100%;
}

.theme-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}

.theme-btn.active {
    background: var(--primary-color);
    border-color: var(--accent-color);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.theme-demo {
    display: flex;
    justify-content: center;
    position: relative;
    z-index: 2;
}

.theme-card {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 2px solid var(--primary-color);
    border-radius: 20px;
    padding: 2rem;
    max-width: 300px;
    transition: all 0.5s ease;
    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
}

/* Scroll Animations - Fixed Version */
.scroll-section {
    padding: 5rem 2rem;
    text-align: center;
    background: var(--bg-color);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.scroll-items {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    max-width: 600px;
    margin: 0 auto;
}

.scroll-item {
    padding: 2rem;
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    border-radius: 15px;
    font-size: 1.5rem;
    font-weight: bold;
    position: relative;
    overflow: hidden;
    /* Default initial state */
    opacity: 0;
    transform: translateY(50px);
    transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Specific initial states for different animation types */
.scroll-item.fade-in {
    transform: translateY(30px);
}

.scroll-item.slide-left {
    transform: translateX(-100px);
}

.scroll-item.scale-up {
    transform: scale(0.8) translateY(20px);
}

.scroll-item.rotate-in {
    transform: rotate(-15deg) translateY(30px);
}

/* Universal animated state - applies to all scroll items */
.scroll-item.animate {
    opacity: 1 !important;
}

/* Specific animated states */
.scroll-item.fade-in.animate {
    transform: translateY(0) !important;
}

.scroll-item.slide-left.animate {
    transform: translateX(0) !important;
}

.scroll-item.scale-up.animate {
    transform: scale(1) translateY(0) !important;
}

.scroll-item.rotate-in.animate {
    transform: rotate(0deg) translateY(0) !important;
}

/* Enhanced shimmer effect */
.scroll-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.6s ease;
    z-index: 1;
}

.scroll-item.animate::before {
    left: 100%;
}

/* Ensure text is above shimmer */
.scroll-item * {
    position: relative;
    z-index: 2;
}

/* Add hover effects for scroll items */
.scroll-item:hover {
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 15px 30px rgba(0,0,0,0.3);
}

.scroll-item.animate:hover {
    transform: translateY(-5px) scale(1.02) !important;
}

/* Filters Section */
.filters-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--bg-color), var(--secondary-color));
}

.filter-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    max-width: 800px;
    margin: 0 auto;
}

.filter-item {
    height: 200px;
    background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.blur:hover { filter: blur(5px); }
.hue-rotate:hover { filter: hue-rotate(180deg); }
.contrast:hover { filter: contrast(200%); }
.saturate:hover { filter: saturate(300%); }

/* Responsive Design */
@media (max-width: 768px) {
    .glitch-text { font-size: 2.5rem; }
    .typewriter { font-size: 1.2rem; }
    .section-title { font-size: 2rem; }
    .clip-shapes { flex-direction: column; align-items: center; }
    .theme-switcher { flex-direction: column; align-items: center; }
    .cube { width: 150px; height: 150px; }
    .face { width: 150px; height: 150px; }
}

/* Smooth Scrolling */
html {
    scroll-behavior: smooth;
}

/* Selection Styling */
::selection {
    background: var(--primary-color);
    color: white;
}

/* Scrollbar Styling */
::-webkit-scrollbar {
    width: 10px;
}

::-webkit-scrollbar-track {
    background: var(--bg-color);
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--accent-color);
}

/* ===== NEW AMAZING CSS FEATURES ===== */

/* 1. CSS Container Queries */
.container-queries-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--bg-color), var(--primary-color));
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.container-demo {
    display: flex;
    justify-content: center;
    align-items: center;
}

.resizable-container {
    container-type: inline-size;
    width: 400px;
    min-width: 250px;
    max-width: 600px;
    resize: horizontal;
    overflow: hidden;
    border: 3px solid var(--primary-color);
    border-radius: 15px;
    position: relative;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
}

.container-card {
    padding: 2rem;
    text-align: center;
    transition: all 0.3s ease;
}

.card-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-top: 1rem;
    flex-wrap: wrap;
}

.card-buttons button {
    padding: 0.8rem 1.5rem;
    background: var(--primary-color);
    border: none;
    border-radius: 25px;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
}

.card-buttons button:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.resize-handle {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 10px;
    background: var(--accent-color);
    cursor: ew-resize;
    opacity: 0.7;
}

/* Container Query Rules */
@container (max-width: 350px) {
    .container-card {
        padding: 1rem;
    }
    .card-buttons {
        flex-direction: column;
    }
    .container-card h3 {
        font-size: 1.2rem;
    }
}

@container (min-width: 500px) {
    .container-card {
        padding: 3rem;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        text-align: left;
    }
    .card-buttons {
        grid-column: span 2;
        justify-content: flex-start;
    }
}

/* 2. CSS Subgrid & Advanced Layouts */
.subgrid-section {
    padding: 5rem 2rem;
    text-align: center;
    background: var(--bg-color);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.subgrid-demo {
    max-width: 1000px;
    margin: 0 auto;
}

.card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    grid-template-rows: subgrid;
}

.card {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    border-radius: 15px;
    padding: 2rem;
    display: grid;
    grid-template-rows: auto 1fr auto;
    gap: 1rem;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--accent-color);
    transform: scaleX(0);
    transition: transform 0.3s ease;
}

.card:hover::before {
    transform: scaleX(1);
}

.card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}

.card h3 {
    margin: 0;
    font-size: 1.5rem;
}

.card p {
    margin: 0;
    opacity: 0.9;
    line-height: 1.6;
}

.card button {
    padding: 1rem 2rem;
    background: rgba(255,255,255,0.2);
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: 25px;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    justify-self: start;
}

.card button:hover {
    background: rgba(255,255,255,0.3);
    transform: translateX(5px);
}

/* 3. CSS Scroll-Driven Animations */
.scroll-driven-section {
    padding: 5rem 2rem;
    background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
    min-height: 150vh;
    position: relative;
}

.scroll-progress-container {
    position: sticky;
    top: 0;
    z-index: 10;
}

.scroll-progress-bar {
    height: 8px;
    background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
    width: 0%;
    transition: width 0.1s ease;
    border-radius: 4px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

.scroll-content {
    padding: 3rem 0;
    text-align: center;
}

.scroll-card {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    padding: 3rem;
    max-width: 600px;
    margin: 0 auto 5rem;
    border: 1px solid var(--glass-border);
}

.parallax-layers {
    position: relative;
    height: 400px;
    overflow: hidden;
    border-radius: 20px;
    max-width: 800px;
    margin: 0 auto;
}

.parallax-layer {
    position: absolute;
    width: 120%;
    height: 120%;
    border-radius: 50%;
    opacity: 0.7;
}

.layer-1 {
    background: radial-gradient(circle, var(--primary-color), transparent);
    animation: parallaxFloat1 20s ease-in-out infinite;
}

.layer-2 {
    background: radial-gradient(circle, var(--secondary-color), transparent);
    animation: parallaxFloat2 15s ease-in-out infinite reverse;
}

.layer-3 {
    background: radial-gradient(circle, var(--accent-color), transparent);
    animation: parallaxFloat3 25s ease-in-out infinite;
}

@keyframes parallaxFloat1 {
    0%, 100% { transform: translate(-10%, -10%) rotate(0deg); }
    50% { transform: translate(10%, 10%) rotate(180deg); }
}

@keyframes parallaxFloat2 {
    0%, 100% { transform: translate(10%, -5%) rotate(0deg); }
    50% { transform: translate(-5%, 15%) rotate(-180deg); }
}

@keyframes parallaxFloat3 {
    0%, 100% { transform: translate(-5%, 10%) rotate(0deg); }
    50% { transform: translate(15%, -10%) rotate(360deg); }
}

/* 4. CSS Anchor Positioning */
.anchor-positioning-section {
    padding: 5rem 2rem;
    text-align: center;
    background: var(--bg-color);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
}

.anchor-demo {
    position: relative;
    max-width: 800px;
    margin: 0 auto;
    height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.anchor-trigger {
    anchor-name: --trigger-anchor;
    padding: 1.5rem 3rem;
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    border: none;
    border-radius: 50px;
    color: white;
    font-size: 1.2rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    z-index: 2;
}

.anchor-trigger:hover {
    transform: scale(1.1);
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

.floating-tooltip {
    position: absolute;
    position-anchor: --trigger-anchor;
    bottom: anchor(top);
    left: anchor(center);
    transform: translateX(-50%) translateY(-10px);
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 1.5rem;
    max-width: 250px;
    opacity: 0;
    pointer-events: none;
    transition: all 0.3s ease;
    z-index: 3;
}

.anchor-trigger:hover + .floating-tooltip,
.floating-tooltip:hover {
    opacity: 1;
    transform: translateX(-50%) translateY(-20px);
}

.tooltip-content h4 {
    margin: 0 0 0.5rem 0;
    color: var(--primary-color);
}

.tooltip-content p {
    margin: 0;
    font-size: 0.9rem;
    line-height: 1.4;
}

.tooltip-arrow {
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-top: 8px solid var(--glass-border);
}

.anchor-connections {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.connection-point {
    position: absolute;
    width: 20px;
    height: 20px;
    background: var(--accent-color);
    border-radius: 50%;
    animation: pulse 2s ease-in-out infinite;
}

.point-1 { top: 20%; left: 20%; animation-delay: 0s; }
.point-2 { top: 20%; right: 20%; animation-delay: 0.7s; }
.point-3 { bottom: 20%; left: 50%; transform: translateX(-50%); animation-delay: 1.4s; }

.connection-lines {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.connection-line {
    stroke: var(--primary-color);
    stroke-width: 2;
    fill: none;
    stroke-dasharray: 10 5;
    animation: dashMove 3s linear infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.5); opacity: 0.7; }
}

@keyframes dashMove {
    0% { stroke-dashoffset: 0; }
    100% { stroke-dashoffset: 30; }
}

/* 5. CSS View Transitions */
.view-transitions-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--bg-color), var(--secondary-color));
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.transition-demo {
    max-width: 1000px;
    margin: 0 auto;
    position: relative;
}

.image-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
}

.gallery-item {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 2px solid var(--glass-border);
    border-radius: 15px;
    padding: 1.5rem;
    cursor: pointer;
    transition: all 0.3s ease;
    view-transition-name: gallery-item;
}

.gallery-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0,0,0,0.3);
    border-color: var(--primary-color);
}

.gallery-item.active {
    border-color: var(--accent-color);
    box-shadow: 0 0 20px var(--accent-color);
}

.image-placeholder {
    width: 100%;
    height: 150px;
    border-radius: 10px;
    margin-bottom: 1rem;
    transition: all 0.3s ease;
}

.img-1 { background: linear-gradient(45deg, #ff6b6b, #feca57); }
.img-2 { background: linear-gradient(45deg, #48dbfb, #0abde3); }
.img-3 { background: linear-gradient(45deg, #ff9ff3, #f368e0); }

.gallery-item h4 {
    margin: 0;
    font-size: 1.2rem;
    color: var(--text-color);
}

.expanded-view {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.9);
    backdrop-filter: blur(10px);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: all 0.5s ease;
    z-index: 1000;
    view-transition-name: expanded-view;
}

.expanded-view.active {
    opacity: 1;
    pointer-events: all;
}

.expanded-image {
    position: relative;
    max-width: 80%;
    max-height: 80%;
}

.expanded-placeholder {
    width: 500px;
    height: 400px;
    border-radius: 20px;
    transition: all 0.5s ease;
}

.close-btn {
    position: absolute;
    top: -15px;
    right: -15px;
    width: 40px;
    height: 40px;
    background: var(--primary-color);
    border: none;
    border-radius: 50%;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.close-btn:hover {
    background: var(--accent-color);
    transform: scale(1.1);
}

/* View Transition Animations */
@keyframes slide-in {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slide-out {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(-100%);
        opacity: 0;
    }
}

/* Enhanced Mobile Responsiveness for New Features */
@media (max-width: 768px) {
    .resizable-container {
        width: 100%;
        resize: none;
    }
    
    .card-grid {
        grid-template-columns: 1fr;
    }
    
    .anchor-demo {
        height: 300px;
    }
    
    .floating-tooltip {
        max-width: 200px;
        font-size: 0.8rem;
    }
    
    .expanded-placeholder {
        width: 90vw;
        height: 60vh;
    }
    
    .parallax-layers {
        height: 250px;
    }
}

/* Performance Optimizations */
.parallax-layer,
.floating-shapes .shape,
.connection-point {
    will-change: transform;
}

.scroll-progress-bar {
    will-change: width;
}

/* Accessibility Improvements */
@media (prefers-reduced-motion: reduce) {
    .parallax-layer,
    .floating-shapes .shape,
    .connection-point {
        animation: none;
    }
    
    .scroll-progress-bar {
        transition: none;
    }
}

/* Focus States for Keyboard Navigation */
.anchor-trigger:focus,
.gallery-item:focus,
.theme-btn:focus {
    outline: 3px solid var(--accent-color);
    outline-offset: 2px;
}
/* Test Animation Button */
.test-animation-btn {
    padding: 1rem 2rem;
    background: var(--accent-color);
    border: none;
    border-radius: 25px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    margin-bottom: 2rem;
    transition: all 0.3s ease;
}

.test-animation-btn:hover {
    background: var(--primary-color);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
/* ===== 5 MORE INCREDIBLE CSS FEATURES ===== */

/* 1. CSS Houdini Paint API */
.houdini-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--bg-color), var(--primary-color));
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.houdini-demo {
    max-width: 800px;
    margin: 0 auto;
}

.paint-worklet-card {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 3rem;
    margin-bottom: 3rem;
}

.paint-examples {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.paint-item {
    height: 200px;
    border-radius: 15px;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
}

.paint-item:hover {
    transform: scale(1.05);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}

/* Simulated Paint API effects with CSS */
.ripple-pattern {
    background: 
        radial-gradient(circle at 20% 30%, var(--primary-color) 2px, transparent 2px),
        radial-gradient(circle at 60% 70%, var(--secondary-color) 3px, transparent 3px),
        radial-gradient(circle at 80% 20%, var(--accent-color) 1px, transparent 1px),
        var(--bg-color);
    background-size: 40px 40px, 60px 60px, 30px 30px;
    animation: rippleMove 8s linear infinite;
}

.wave-pattern {
    background: 
        linear-gradient(45deg, var(--primary-color) 25%, transparent 25%),
        linear-gradient(-45deg, var(--secondary-color) 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, var(--accent-color) 75%),
        linear-gradient(-45deg, transparent 75%, var(--primary-color) 75%);
    background-size: 20px 20px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
    animation: waveShift 4s ease-in-out infinite;
}

.noise-pattern {
    background: var(--bg-color);
    position: relative;
}

.noise-pattern::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        radial-gradient(circle at 25% 25%, var(--primary-color) 1px, transparent 1px),
        radial-gradient(circle at 75% 75%, var(--secondary-color) 1px, transparent 1px),
        radial-gradient(circle at 50% 50%, var(--accent-color) 1px, transparent 1px);
    background-size: 15px 15px, 25px 25px, 35px 35px;
    animation: noiseFlicker 2s steps(10) infinite;
    opacity: 0.8;
}

@keyframes rippleMove {
    0% { background-position: 0 0, 0 0, 0 0; }
    100% { background-position: 40px 40px, -60px 60px, 30px -30px; }
}

@keyframes waveShift {
    0%, 100% { background-position: 0 0, 0 10px, 10px -10px, -10px 0px; }
    50% { background-position: 20px 20px, 20px 30px, 30px 10px, 10px 20px; }
}

@keyframes noiseFlicker {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 0.4; }
}

/* 2. CSS Logical Properties & Writing Modes */
.logical-properties-section {
    padding: 5rem 2rem;
    text-align: center;
    background: var(--bg-color);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.writing-modes-demo {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    max-width: 1000px;
    margin: 0 auto;
    height: 400px;
}

.writing-mode-card {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    border-radius: 15px;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.writing-mode-card:hover {
    transform: rotateY(5deg) rotateX(5deg);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}

.horizontal-tb {
    writing-mode: horizontal-tb;
    text-align: start;
}

.vertical-rl {
    writing-mode: vertical-rl;
    text-orientation: mixed;
}

.vertical-lr {
    writing-mode: vertical-lr;
    text-orientation: mixed;
}

.logical-btn {
    padding: 1rem 2rem;
    background: rgba(255,255,255,0.2);
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: 25px;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-block-start: auto;
    inline-size: fit-content;
}

.logical-btn:hover {
    background: rgba(255,255,255,0.3);
    transform: translateY(-2px);
}

/* 3. CSS Masking & Complex Shapes */
.masking-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
}

.mask-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 3rem;
    max-width: 1000px;
    margin: 0 auto;
}

.mask-item {
    height: 300px;
    border-radius: 20px;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.5s ease;
}

.mask-item:hover {
    transform: scale(1.05) rotateZ(2deg);
}

.mask-content {
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color), var(--accent-color));
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 2rem;
}

.gradient-mask .mask-content {
    mask: linear-gradient(45deg, black 30%, transparent 70%);
    -webkit-mask: linear-gradient(45deg, black 30%, transparent 70%);
}

.svg-mask .mask-content {
    mask: url(#hexagon-mask);
    -webkit-mask: url(#hexagon-mask);
    mask-size: contain;
    -webkit-mask-size: contain;
    mask-repeat: no-repeat;
    -webkit-mask-repeat: no-repeat;
    mask-position: center;
    -webkit-mask-position: center;
}

.text-mask .mask-content {
    mask: 
        radial-gradient(circle at center, black 40%, transparent 50%),
        linear-gradient(90deg, black 20%, transparent 40%, transparent 60%, black 80%);
    -webkit-mask: 
        radial-gradient(circle at center, black 40%, transparent 50%),
        linear-gradient(90deg, black 20%, transparent 40%, transparent 60%, black 80%);
    mask-composite: intersect;
    -webkit-mask-composite: source-in;
}

.mask-item h3, .mask-item p {
    color: white;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

/* 4. CSS Motion Path & Advanced Animations */
.motion-path-section {
    padding: 5rem 2rem;
    text-align: center;
    background: var(--bg-color);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.motion-demo {
    max-width: 900px;
    margin: 0 auto;
}

.path-container {
    position: relative;
    height: 400px;
    margin-bottom: 3rem;
    border-radius: 20px;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    overflow: hidden;
}

.motion-path-svg {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
}

.moving-element {
    position: absolute;
    font-size: 2rem;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
    animation: moveAlongPath 8s ease-in-out infinite;
}

.rocket {
    offset-path: path('M 50 200 Q 200 50 400 200 T 750 200');
    animation-delay: 0s;
}

.car {
    offset-path: path('M 50 200 Q 200 50 400 200 T 750 200');
    animation-delay: 2s;
}

.plane {
    offset-path: path('M 50 200 Q 200 50 400 200 T 750 200');
    animation-delay: 4s;
}

@keyframes moveAlongPath {
    0% { 
        offset-distance: 0%; 
        transform: scale(1) rotate(0deg);
    }
    25% { 
        transform: scale(1.2) rotate(10deg);
    }
    50% { 
        offset-distance: 50%; 
        transform: scale(1) rotate(0deg);
    }
    75% { 
        transform: scale(1.2) rotate(-10deg);
    }
    100% { 
        offset-distance: 100%; 
        transform: scale(1) rotate(0deg);
    }
}

.motion-controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
}

.motion-btn {
    padding: 1rem 2rem;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 2px solid var(--glass-border);
    border-radius: 25px;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
}

.motion-btn:hover, .motion-btn.active {
    background: var(--primary-color);
    border-color: var(--accent-color);
    transform: translateY(-2px);
}

/* Motion speed variations */
.speed-slow .moving-element { animation-duration: 12s; }
.speed-fast .moving-element { animation-duration: 4s; }

/* 5. CSS Color Functions & Advanced Gradients */
.color-functions-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--bg-color), var(--secondary-color));
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.color-palette {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
}

.color-card {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 2rem;
    transition: all 0.3s ease;
}

.color-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}

.color-swatches {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    margin-top: 1rem;
}

.swatch {
    height: 60px;
    border-radius: 10px;
    transition: all 0.3s ease;
    cursor: pointer;
}

.swatch:hover {
    transform: scale(1.1);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

/* OKLCH Colors - Future-proof color space */
.oklch-1 { background: oklch(70% 0.15 0); }
.oklch-2 { background: oklch(70% 0.15 90); }
.oklch-3 { background: oklch(70% 0.15 180); }
.oklch-4 { background: oklch(70% 0.15 270); }

/* Fallback for browsers that don't support OKLCH */
@supports not (background: oklch(70% 0.15 0)) {
    .oklch-1 { background: #ff6b6b; }
    .oklch-2 { background: #4ecdc4; }
    .oklch-3 { background: #45b7d1; }
    .oklch-4 { background: #96ceb4; }
}

.mix-demo {
    margin-top: 1rem;
}

.mix-slider-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
}

.mix-slider {
    width: 100%;
    height: 8px;
    border-radius: 4px;
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    outline: none;
    cursor: pointer;
}

.mix-result {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: color-mix(in srgb, var(--primary-color) 50%, var(--secondary-color) 50%);
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

/* Fallback for browsers that don't support color-mix */
@supports not (background: color-mix(in srgb, red, blue)) {
    .mix-result {
        background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    }
}

.conic-examples {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-top: 1rem;
}

.conic-item {
    height: 80px;
    border-radius: 50%;
    transition: all 0.3s ease;
    cursor: pointer;
}

.conic-item:hover {
    transform: scale(1.1) rotate(10deg);
}

.rainbow {
    background: conic-gradient(
        from 0deg,
        #ff0000, #ff8000, #ffff00, #80ff00, #00ff00, 
        #00ff80, #00ffff, #0080ff, #0000ff, #8000ff, 
        #ff00ff, #ff0080, #ff0000
    );
}

.pie-chart {
    background: conic-gradient(
        from 0deg,
        var(--primary-color) 0deg 120deg,
        var(--secondary-color) 120deg 240deg,
        var(--accent-color) 240deg 360deg
    );
}

.spiral {
    background: conic-gradient(
        from 0deg,
        var(--primary-color) 0deg,
        transparent 90deg,
        var(--secondary-color) 180deg,
        transparent 270deg,
        var(--primary-color) 360deg
    );
    animation: spiralRotate 4s linear infinite;
}

@keyframes spiralRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Enhanced Mobile Responsiveness for New Features */
@media (max-width: 768px) {
    .paint-examples {
        grid-template-columns: 1fr;
    }
    
    .writing-modes-demo {
        grid-template-columns: 1fr;
        height: auto;
    }
    
    .writing-mode-card {
        height: 200px;
    }
    
    .mask-gallery {
        grid-template-columns: 1fr;
    }
    
    .path-container {
        height: 250px;
    }
    
    .moving-element {
        font-size: 1.5rem;
    }
    
    .color-palette {
        grid-template-columns: 1fr;
    }
    
    .color-swatches {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Performance Optimizations */
.moving-element,
.spiral,
.paint-item {
    will-change: transform;
}

/* Accessibility Improvements */
@media (prefers-reduced-motion: reduce) {
    .moving-element,
    .spiral,
    .paint-item {
        animation: none;
    }
    
    .mask-item:hover,
    .color-card:hover {
        transform: none;
    }
}

/* Focus States */
.motion-btn:focus,
.logical-btn:focus,
.mix-slider:focus {
    outline: 3px solid var(--accent-color);
    outline-offset: 2px;
}
/* ===== 5 MORE INCREDIBLE CSS FEATURES (FINAL SET) ===== */

/* 1. CSS @property & Custom Properties Animation */
@property --gradient-angle {
    syntax: '<angle>';
    initial-value: 0deg;
    inherits: false;
}

@property --animated-number {
    syntax: '<number>';
    initial-value: 0;
    inherits: false;
}

@property --color-hue {
    syntax: '<number>';
    initial-value: 0;
    inherits: false;
}

.custom-properties-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--bg-color), var(--primary-color));
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.animated-property-card {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 3rem;
    max-width: 800px;
    margin: 0 auto;
}

.property-examples {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.property-item {
    height: 150px;
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: bold;
    color: white;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    transition: all 0.3s ease;
    cursor: pointer;
}

.gradient-animate {
    background: linear-gradient(var(--gradient-angle), var(--primary-color), var(--secondary-color), var(--accent-color));
    transition: --gradient-angle 2s ease-in-out;
}

.gradient-animate.animate {
    --gradient-angle: 360deg;
}

.number-animate {
    background: linear-gradient(45deg, var(--secondary-color), var(--accent-color));
    flex-direction: column;
}

.animated-number {
    font-size: 3rem;
    font-weight: bold;
}

.color-animate {
    background: hsl(var(--color-hue), 70%, 60%);
    transition: --color-hue 3s ease-in-out;
}

.color-animate.animate {
    --color-hue: 360;
}

.trigger-animation {
    padding: 1rem 2rem;
    background: var(--primary-color);
    border: none;
    border-radius: 25px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 2rem;
}

.trigger-animation:hover {
    background: var(--secondary-color);
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
}

/* 2. CSS Cascade Layers & Advanced Selectors */
@layer base, theme, components, utilities;

.cascade-layers-section {
    padding: 5rem 2rem;
    text-align: center;
    background: var(--bg-color);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.layers-demo {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    align-items: start;
}

.layer-visualization {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    perspective: 1000px;
}

.layer {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 1.5rem;
    transform-style: preserve-3d;
    transition: all 0.3s ease;
    cursor: pointer;
}

.layer:hover {
    transform: translateZ(20px) rotateX(5deg);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}

.base-layer { border-left: 5px solid #ff6b6b; }
.theme-layer { border-left: 5px solid #4ecdc4; }
.component-layer { border-left: 5px solid #45b7d1; }
.utility-layer { border-left: 5px solid #96ceb4; }

.selector-showcase {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.selector-demo {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 2rem;
}

/* :has() selector demo */
.parent-container:has(#has-checkbox:checked) .child-element {
    background: var(--accent-color);
    transform: scale(1.1) rotate(5deg);
    color: white;
}

.child-element {
    background: var(--glass-bg);
    padding: 1rem;
    border-radius: 10px;
    margin-top: 1rem;
    transition: all 0.3s ease;
}

#has-checkbox {
    margin-right: 0.5rem;
    transform: scale(1.2);
}

/* :where() and :is() selector demo */
.specificity-demo {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    flex-wrap: wrap;
}

:where(.btn) {
    padding: 0.8rem 1.5rem;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: bold;
}

:is(.btn.primary, .btn.secondary, .btn.accent) {
    transform: translateY(0);
}

.btn.primary { background: var(--primary-color); color: white; }
.btn.secondary { background: var(--secondary-color); color: white; }
.btn.accent { background: var(--accent-color); color: white; }

.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
}

/* 3. CSS Nesting & Modern Syntax */
.nesting-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.nested-card {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 3rem;
    max-width: 800px;
    margin: 0 auto;
    text-align: left;
    
    & h3 {
        color: var(--text-color);
        margin-bottom: 1rem;
        text-align: center;
    }
    
    & p {
        text-align: center;
        margin-bottom: 2rem;
        opacity: 0.9;
    }
}

.nested-content {
    display: flex;
    gap: 2rem;
    margin-bottom: 2rem;
    justify-content: center;
    flex-wrap: wrap;
}

.nested-item {
    position: relative;
    background: var(--primary-color);
    padding: 1rem 2rem;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    
    & span {
        color: white;
        font-weight: bold;
    }
    
    &:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        
        & .nested-tooltip {
            opacity: 1;
            transform: translateY(-10px);
        }
    }
    
    &:nth-child(2) {
        background: var(--secondary-color);
        
        &:hover .nested-dropdown {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }
    }
}

.nested-tooltip {
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%) translateY(0);
    background: var(--bg-color);
    color: var(--text-color);
    padding: 0.5rem 1rem;
    border-radius: 5px;
    font-size: 0.8rem;
    opacity: 0;
    transition: all 0.3s ease;
    white-space: nowrap;
    z-index: 10;
}

.nested-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 10px;
    margin-top: 10px;
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.3s ease;
    pointer-events: none;
    z-index: 10;
}

.dropdown-item {
    padding: 0.8rem 1rem;
    color: var(--text-color);
    cursor: pointer;
    transition: background 0.2s ease;
    
    &:hover {
        background: var(--primary-color);
        color: white;
    }
    
    &:first-child {
        border-radius: 10px 10px 0 0;
    }
    
    &:last-child {
        border-radius: 0 0 10px 10px;
    }
}

.syntax-example {
    background: var(--bg-color);
    border-radius: 10px;
    padding: 1.5rem;
    margin-top: 2rem;
    
    & pre {
        margin: 0;
        color: var(--text-color);
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
        line-height: 1.5;
    }
}

/* 4. CSS Trigonometric Functions & Math */
.math-functions-section {
    padding: 5rem 2rem;
    text-align: center;
    background: var(--bg-color);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.math-demo {
    max-width: 1000px;
    margin: 0 auto;
}

.trig-visualization {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    margin-bottom: 3rem;
    align-items: center;
}

.circle-demo {
    position: relative;
    width: 300px;
    height: 300px;
    margin: 0 auto;
    border: 3px solid var(--primary-color);
    border-radius: 50%;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
}

.rotating-elements {
    position: absolute;
    width: 100%;
    height: 100%;
    animation: rotate 10s linear infinite;
}

.math-element {
    position: absolute;
    width: 40px;
    height: 40px;
    background: var(--accent-color);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    cursor: pointer;
    left: 50%;
    top: 50%;
}

/* Positioning elements in a circle - centered and then moved outward */
.math-element:nth-child(1) { 
    transform: translate(-20px, -20px) translate(100px, 0px); 
}
.math-element:nth-child(2) { 
    transform: translate(-20px, -20px) translate(50px, 87px); 
}
.math-element:nth-child(3) { 
    transform: translate(-20px, -20px) translate(-50px, 87px); 
}
.math-element:nth-child(4) { 
    transform: translate(-20px, -20px) translate(-100px, 0px); 
}
.math-element:nth-child(5) { 
    transform: translate(-20px, -20px) translate(-50px, -87px); 
}
.math-element:nth-child(6) { 
    transform: translate(-20px, -20px) translate(50px, -87px); 
}

.math-element:hover {
    background: var(--primary-color);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

/* Hover effect that doesn't interfere with positioning */
.math-element:hover::after {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border: 2px solid var(--primary-color);
    border-radius: 50%;
    animation: pulse 1s ease-in-out infinite;
}

.center-point {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 10px;
    height: 10px;
    background: var(--primary-color);
    border-radius: 50%;
    transform: translate(-50%, -50%);
}

.wave-function {
    position: relative;
    height: 200px;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    overflow: hidden;
}

.wave-function::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px),
        linear-gradient(0deg, rgba(255,255,255,0.1) 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
    opacity: 0.3;
}

.wave-line {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--primary-color);
    transform: translateY(-50%);
    border-radius: 2px;
    overflow: hidden;
}

.wave-line::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 200%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent 0%, 
        var(--secondary-color) 25%, 
        var(--accent-color) 50%, 
        var(--secondary-color) 75%, 
        transparent 100%);
    animation: waveMove 3s ease-in-out infinite;
}

.wave-particles {
    position: absolute;
    width: 100%;
    height: 100%;
}

.particle {
    position: absolute;
    width: 15px;
    height: 15px;
    background: #ff6b6b;
    border-radius: 50%;
    top: 50%;
    transform: translateY(0px);
    z-index: 10;
    border: 2px solid white;
}

/* Static positioning - JavaScript will handle all movement */
.particle:nth-child(1) { left: 10%; }
.particle:nth-child(2) { left: 25%; }
.particle:nth-child(3) { left: 40%; }
.particle:nth-child(4) { left: 55%; }
.particle:nth-child(5) { left: 70%; }

@keyframes rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes waveMove {
    0% { left: -100%; }
    50% { left: 50%; }
    100% { left: 100%; }
}

/* Removed particleWave animation - JavaScript controls all movement now */

.math-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 2rem;
    flex-wrap: wrap;
    gap: 2rem;
}

.function-selector {
    display: flex;
    gap: 1rem;
}

.math-btn {
    padding: 1rem 1.5rem;
    background: var(--glass-bg);
    border: 2px solid var(--glass-border);
    border-radius: 25px;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Courier New', monospace;
}

.math-btn:hover, .math-btn.active {
    background: var(--primary-color);
    border-color: var(--accent-color);
    color: white;
    transform: translateY(-2px);
}

.calculated-values {
    display: flex;
    gap: 2rem;
}

.value-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.label {
    font-size: 0.9rem;
    opacity: 0.8;
}

.value {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--accent-color);
    font-family: 'Courier New', monospace;
}

/* 5. CSS Scroll Snap & Advanced Scrolling */
.scroll-snap-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--bg-color), var(--secondary-color));
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.scroll-demo {
    max-width: 1000px;
    margin: 0 auto;
}

.snap-container {
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
    gap: 2rem;
    padding: 2rem;
    margin-bottom: 2rem;
    border-radius: 20px;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    width: 100%;
    max-width: 100%;
    
    /* Hide scrollbar but keep functionality */
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.snap-container::-webkit-scrollbar {
    display: none;
}

.snap-item {
    flex: 0 0 300px;
    height: 200px;
    scroll-snap-align: center;
    scroll-snap-stop: always;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    border-radius: 15px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: white;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    transition: all 0.3s ease;
    cursor: pointer;
    user-select: none;
}

.snap-item:hover {
    transform: scale(1.05);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}

.item-1 { background: linear-gradient(135deg, #ff6b6b, #feca57); }
.item-2 { background: linear-gradient(135deg, #48dbfb, #0abde3); }
.item-3 { background: linear-gradient(135deg, #ff9ff3, #f368e0); }
.item-4 { background: linear-gradient(135deg, #54a0ff, #2e86de); }

.scroll-indicators {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 3rem;
}

.indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--glass-border);
    cursor: pointer;
    transition: all 0.3s ease;
    
    &.active {
        background: var(--accent-color);
        transform: scale(1.3);
    }
    
    &:hover {
        background: var(--primary-color);
        transform: scale(1.2);
    }
}

.vertical-snap-demo {
    margin-top: 3rem;
}

.vertical-snap-container {
    height: 200px;
    overflow-y: auto;
    scroll-snap-type: y mandatory;
    scroll-behavior: smooth;
    border-radius: 15px;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    
    /* Custom scrollbar */
    scrollbar-width: thin;
    scrollbar-color: var(--primary-color) var(--glass-bg);
}

.vertical-snap-container::-webkit-scrollbar {
    width: 8px;
}

.vertical-snap-container::-webkit-scrollbar-track {
    background: var(--glass-bg);
    border-radius: 4px;
}

.vertical-snap-container::-webkit-scrollbar-thumb {
    background: var(--primary-color);
    border-radius: 4px;
}

.vertical-snap-container::-webkit-scrollbar-thumb:hover {
    background: var(--secondary-color);
}

.vertical-snap-item {
    height: 120px;
    min-height: 120px;
    scroll-snap-align: start;
    scroll-snap-stop: always;
    display: flex;
    align-items: center;
    justify-content: center;
    border-bottom: 1px solid var(--glass-border);
    cursor: pointer;
    transition: all 0.3s ease;
    user-select: none;
    flex-shrink: 0;
}

.vertical-snap-item:last-child {
    border-bottom: none;
}

.vertical-snap-item:hover {
    background: rgba(255,255,255,0.05);
}

.snap-content {
    text-align: center;
    
    & h5 {
        margin: 0 0 0.5rem 0;
        color: var(--primary-color);
        font-size: 1.2rem;
    }
    
    & p {
        margin: 0;
        opacity: 0.8;
        font-size: 0.9rem;
    }
}

/* Enhanced Mobile Responsiveness for Final Features */
@media (max-width: 768px) {
    .layers-demo {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .trig-visualization {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .circle-demo {
        width: 250px;
        height: 250px;
    }
    
    .math-controls {
        flex-direction: column;
        text-align: center;
    }
    
    .snap-item {
        flex: 0 0 250px;
        height: 150px;
    }
    
    .nested-content {
        flex-direction: column;
        align-items: center;
    }
    
    .property-examples {
        grid-template-columns: 1fr;
    }
}

/* Final Performance Optimizations */
.rotating-elements,
.wave-line::before,
.particle,
.math-element {
    will-change: transform;
}

/* Final Accessibility Improvements */
@media (prefers-reduced-motion: reduce) {
    .rotating-elements,
    .wave-line::before,
    .particle {
        animation: none;
    }
    
    .snap-container {
        scroll-behavior: auto;
    }
}

/* Final Focus States */
.trigger-animation:focus,
.math-btn:focus,
.indicator:focus {
    outline: 3px solid var(--accent-color);
    outline-offset: 2px;
}
/* Test Scroll Button */
.test-scroll-btn {
    padding: 1rem 2rem;
    background: var(--accent-color);
    border: none;
    border-radius: 25px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    margin: 1rem 0;
    transition: all 0.3s ease;
}

.test-scroll-btn:hover {
    background: var(--primary-color);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
/* Test Vertical Scroll Button */
.test-vertical-snap-btn {
    padding: 0.8rem 1.5rem;
    background: var(--secondary-color);
    border: none;
    border-radius: 20px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    margin: 0.5rem 0 1rem 0;
    transition: all 0.3s ease;
    font-size: 0.9rem;
}

.test-vertical-snap-btn:hover {
    background: var(--accent-color);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
/* Test Math Button */
.test-math-btn {
    padding: 0.8rem 1.5rem;
    background: var(--accent-color);
    border: none;
    border-radius: 20px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    margin-left: 1rem;
    transition: all 0.3s ease;
    font-size: 0.9rem;
}

.test-math-btn:hover {
    background: var(--primary-color);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

/* Add fade in animation */
@keyframes fadeIn {
    from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}
/* Function name display */
.function-name {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--accent-color);
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s ease;
}

/* Enhanced calculated values layout */
.calculated-values {
    display: flex;
    gap: 3rem;
    justify-content: center;
    align-items: center;
}

.value-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.value-display .label {
    font-size: 0.9rem;
    opacity: 0.8;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Enhanced value styling */
.value {
    font-size: 2rem;
    font-weight: bold;
    color: var(--accent-color);
    font-family: 'Courier New', monospace;
    transition: all 0.3s ease;
    min-width: 80px;
    text-align: center;
}
/* Function indicator in wave display */
.function-indicator {
    position: absolute;
    top: 10px;
    left: 10px;
    background: rgba(0,0,0,0.7);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 1rem;
    z-index: 10;
    transition: all 0.3s ease;
}
/* Start Animation Button */
.start-animation-btn {
    padding: 0.8rem 1.5rem;
    background: var(--primary-color);
    border: none;
    border-radius: 20px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    margin-left: 1rem;
    transition: all 0.3s ease;
    font-size: 0.9rem;
}

.start-animation-btn:hover {
    background: var(--secondary-color);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
/* Debug Button */
.debug-btn {
    padding: 0.8rem 1.5rem;
    background: var(--secondary-color);
    border: none;
    border-radius: 20px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    margin-left: 1rem;
    transition: all 0.3s ease;
    font-size: 0.9rem;
}

.debug-btn:hover {
    background: var(--accent-color);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
/* ===== 5 MORE INCREDIBLE CSS FEATURES (FINAL ULTIMATE SET) ===== */

/* 1. CSS Backdrop Filters & Advanced Blur Effects */
.backdrop-filters-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--bg-color), var(--primary-color));
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.backdrop-demo {
    position: relative;
    max-width: 1200px;
    margin: 0 auto;
    height: 500px;
}

.backdrop-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    border-radius: 20px;
}

.colorful-shapes {
    position: relative;
    width: 100%;
    height: 100%;
}

.bg-shape {
    position: absolute;
    border-radius: 50%;
    animation: floatShapes 8s ease-in-out infinite;
}

.shape-a {
    width: 200px;
    height: 200px;
    background: linear-gradient(45deg, #ff6b6b, #feca57);
    top: 10%;
    left: 10%;
    animation-delay: 0s;
}

.shape-b {
    width: 150px;
    height: 150px;
    background: linear-gradient(45deg, #48dbfb, #0abde3);
    top: 60%;
    right: 20%;
    animation-delay: 2s;
}

.shape-c {
    width: 180px;
    height: 180px;
    background: linear-gradient(45deg, #ff9ff3, #f368e0);
    bottom: 20%;
    left: 30%;
    animation-delay: 4s;
}

.shape-d {
    width: 120px;
    height: 120px;
    background: linear-gradient(45deg, #54a0ff, #2e86de);
    top: 30%;
    right: 10%;
    animation-delay: 6s;
}

@keyframes floatShapes {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    25% { transform: translate(30px, -20px) rotate(90deg); }
    50% { transform: translate(-20px, 30px) rotate(180deg); }
    75% { transform: translate(20px, 20px) rotate(270deg); }
}

.backdrop-cards {
    position: relative;
    z-index: 10;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
    padding: 2rem;
    height: 100%;
}

.backdrop-card {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 15px;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: all 0.3s ease;
    cursor: pointer;
}

.blur-card {
    backdrop-filter: blur(20px);
}

.saturate-card {
    backdrop-filter: saturate(200%) blur(5px);
}

.invert-card {
    backdrop-filter: invert(100%) blur(3px);
}

.contrast-card {
    backdrop-filter: contrast(150%) brightness(120%) blur(8px);
}

.backdrop-card:hover {
    transform: translateY(-10px) scale(1.05);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}

.backdrop-btn {
    padding: 1rem 2rem;
    background: rgba(255,255,255,0.2);
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: 25px;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 1rem;
}

.backdrop-btn:hover {
    background: rgba(255,255,255,0.4);
    transform: translateY(-2px);
}

/* 2. CSS Advanced 3D Transforms */
.advanced-transforms-section {
    padding: 5rem 2rem;
    text-align: center;
    background: var(--bg-color);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.transform-stage {
    perspective: 1200px;
    max-width: 800px;
    margin: 0 auto;
}

.floating-cube-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 400px;
    margin-bottom: 3rem;
}

.floating-cube {
    position: relative;
    width: 150px;
    height: 150px;
    transform-style: preserve-3d;
    transition: transform 1s ease;
    animation: floatCube 6s ease-in-out infinite;
}

@keyframes floatCube {
    0%, 100% { transform: translateY(0px) rotateX(0deg) rotateY(0deg); }
    50% { transform: translateY(-20px) rotateX(10deg) rotateY(180deg); }
}

.cube-face {
    position: absolute;
    width: 150px;
    height: 150px;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    border: 2px solid var(--accent-color);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: white;
    font-size: 1rem;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

.cube-face.front { transform: rotateY(0deg) translateZ(75px); }
.cube-face.back { transform: rotateY(180deg) translateZ(75px); }
.cube-face.right { transform: rotateY(90deg) translateZ(75px); }
.cube-face.left { transform: rotateY(-90deg) translateZ(75px); }
.cube-face.top { transform: rotateX(90deg) translateZ(75px); }
.cube-face.bottom { transform: rotateX(-90deg) translateZ(75px); }

.transform-controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.transform-btn {
    padding: 1rem 1.5rem;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 2px solid var(--glass-border);
    border-radius: 25px;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: bold;
}

.transform-btn:hover {
    background: var(--primary-color);
    border-color: var(--accent-color);
    color: white;
    transform: translateY(-2px);
}

/* 3. CSS Grid Template Areas */
.grid-areas-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.grid-areas-demo {
    max-width: 1000px;
    margin: 0 auto;
}

.layout-switcher {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
}

.layout-btn {
    padding: 1rem 2rem;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 2px solid var(--glass-border);
    border-radius: 25px;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: bold;
}

.layout-btn:hover, .layout-btn.active {
    background: var(--primary-color);
    border-color: var(--accent-color);
    color: white;
    transform: translateY(-2px);
}

.responsive-grid {
    display: grid;
    gap: 1rem;
    height: 400px;
    border-radius: 15px;
    padding: 1rem;
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    transition: all 0.5s ease;
}

.desktop-layout {
    grid-template-areas: 
        "header header header header"
        "sidebar main main aside"
        "sidebar main main aside"
        "footer footer footer footer";
    grid-template-columns: 200px 1fr 1fr 200px;
    grid-template-rows: 80px 1fr 1fr 60px;
}

.tablet-layout {
    grid-template-areas: 
        "header header header"
        "sidebar main aside"
        "footer footer footer";
    grid-template-columns: 150px 1fr 150px;
    grid-template-rows: 80px 1fr 60px;
}

.mobile-layout {
    grid-template-areas: 
        "header"
        "main"
        "sidebar"
        "aside"
        "footer";
    grid-template-columns: 1fr;
    grid-template-rows: 80px 1fr auto auto 60px;
}

.grid-area {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 1.2rem;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    transition: all 0.3s ease;
    cursor: pointer;
}

.grid-area:hover {
    transform: scale(1.02);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.header { grid-area: header; background: linear-gradient(135deg, #ff6b6b, #feca57); }
.sidebar { grid-area: sidebar; background: linear-gradient(135deg, #48dbfb, #0abde3); }
.main { grid-area: main; background: linear-gradient(135deg, #ff9ff3, #f368e0); }
.aside { grid-area: aside; background: linear-gradient(135deg, #54a0ff, #2e86de); }
.footer { grid-area: footer; background: linear-gradient(135deg, #5f27cd, #341f97); }

/* 4. CSS Custom Animations Library */
.custom-animations-section {
    padding: 5rem 2rem;
    text-align: center;
    background: var(--bg-color);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.animation-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto 3rem;
}

.animation-item {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 2rem;
    height: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.animation-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0,0,0,0.3);
}

.animation-element {
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    color: white;
    padding: 1rem 2rem;
    border-radius: 10px;
    font-weight: bold;
    font-size: 1.1rem;
}

/* Custom Animation Keyframes */
@keyframes bounceCustom {
    0%, 20%, 53%, 80%, 100% { transform: translate3d(0,0,0); }
    40%, 43% { transform: translate3d(0,-30px,0); }
    70% { transform: translate3d(0,-15px,0); }
    90% { transform: translate3d(0,-4px,0); }
}

@keyframes pulseCustom {
    0% { transform: scale3d(1, 1, 1); }
    50% { transform: scale3d(1.2, 1.2, 1.2); }
    100% { transform: scale3d(1, 1, 1); }
}

@keyframes shakeCustom {
    10%, 90% { transform: translate3d(-1px, 0, 0); }
    20%, 80% { transform: translate3d(2px, 0, 0); }
    30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
    40%, 60% { transform: translate3d(4px, 0, 0); }
}

@keyframes flipCustom {
    0% { transform: perspective(400px) rotateY(0); }
    40% { transform: perspective(400px) rotateY(-180deg); }
    100% { transform: perspective(400px) rotateY(-180deg); }
}

@keyframes wobbleCustom {
    0% { transform: translate3d(0, 0, 0); }
    15% { transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg); }
    30% { transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg); }
    45% { transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg); }
    60% { transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg); }
    75% { transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg); }
    100% { transform: translate3d(0, 0, 0); }
}

@keyframes swingCustom {
    20% { transform: rotate3d(0, 0, 1, 15deg); }
    40% { transform: rotate3d(0, 0, 1, -10deg); }
    60% { transform: rotate3d(0, 0, 1, 5deg); }
    80% { transform: rotate3d(0, 0, 1, -5deg); }
    100% { transform: rotate3d(0, 0, 1, 0deg); }
}

.bounce-animation.playing .animation-element { animation: bounceCustom 1s ease; }
.pulse-animation.playing .animation-element { animation: pulseCustom 1s ease infinite; }
.shake-animation.playing .animation-element { animation: shakeCustom 0.8s ease; }
.flip-animation.playing .animation-element { animation: flipCustom 1s ease; }
.wobble-animation.playing .animation-element { animation: wobbleCustom 1s ease; }
.swing-animation.playing .animation-element { animation: swingCustom 1s ease; }

.animation-controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.animation-control-btn {
    padding: 1rem 2rem;
    background: var(--primary-color);
    border: none;
    border-radius: 25px;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: bold;
}

.animation-control-btn:hover {
    background: var(--secondary-color);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

/* 5. Advanced Flexbox Patterns */
.flexbox-patterns-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--bg-color), var(--secondary-color));
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.flexbox-demo {
    max-width: 1000px;
    margin: 0 auto;
}

.pattern-selector {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
}

.pattern-btn {
    padding: 1rem 1.5rem;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 2px solid var(--glass-border);
    border-radius: 25px;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: bold;
}

.pattern-btn:hover, .pattern-btn.active {
    background: var(--primary-color);
    border-color: var(--accent-color);
    color: white;
    transform: translateY(-2px);
}

.flexbox-container {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 1rem;
    height: 400px;
    transition: all 0.5s ease;
}

/* Holy Grail Layout */
.holy-grail-pattern {
    display: flex;
    flex-direction: column;
}

.flex-header, .flex-footer {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    padding: 1rem;
    border-radius: 10px;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.flex-footer {
    margin-bottom: 0;
    margin-top: 1rem;
}

.flex-body {
    display: flex;
    flex: 1;
    gap: 1rem;
}

.flex-sidebar, .flex-aside {
    background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
    color: white;
    padding: 1rem;
    border-radius: 10px;
    width: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.flex-main {
    background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
    color: white;
    padding: 1rem;
    border-radius: 10px;
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

/* Card Layout Pattern */
.card-layout-pattern {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-content: flex-start;
}

.card-layout-pattern .flex-card {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    padding: 1.5rem;
    border-radius: 10px;
    flex: 1 1 calc(33.333% - 1rem);
    min-width: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    transition: all 0.3s ease;
}

.card-layout-pattern .flex-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
}

/* Media Object Pattern */
.media-object-pattern {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    padding: 2rem;
}

.media-object-pattern .media-image {
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    border-radius: 50%;
    flex-shrink: 0;
}

.media-object-pattern .media-content {
    flex: 1;
    background: var(--glass-bg);
    padding: 1.5rem;
    border-radius: 10px;
}

/* Sticky Footer Pattern */
.sticky-footer-pattern {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.sticky-footer-pattern .flex-header {
    margin-bottom: 1rem;
}

.sticky-footer-pattern .flex-main {
    flex: 1;
    margin-bottom: 1rem;
}

.sticky-footer-pattern .flex-footer {
    margin-top: auto;
    margin-bottom: 0;
}

/* Enhanced Mobile Responsiveness for New Features */
@media (max-width: 768px) {
    .backdrop-cards {
        grid-template-columns: 1fr;
    }
    
    .transform-controls {
        flex-direction: column;
        align-items: center;
    }
    
    .layout-switcher,
    .pattern-selector {
        flex-direction: column;
        align-items: center;
    }
    
    .desktop-layout,
    .tablet-layout {
        grid-template-areas: 
            "header"
            "main"
            "sidebar"
            "aside"
            "footer";
        grid-template-columns: 1fr;
        grid-template-rows: 60px 1fr auto auto 50px;
    }
    
    .animation-gallery {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .flex-body {
        flex-direction: column;
    }
    
    .flex-sidebar,
    .flex-aside {
        width: auto;
    }
}

/* Performance Optimizations for New Features */
.floating-cube,
.bg-shape,
.animation-element {
    will-change: transform;
}

/* Accessibility for New Features */
@media (prefers-reduced-motion: reduce) {
    .floating-cube,
    .bg-shape,
    .animation-element {
        animation: none;
    }
    
    .backdrop-card:hover,
    .transform-btn:hover,
    .layout-btn:hover {
        transform: none;
    }
}

/* Focus States for New Features */
.backdrop-btn:focus,
.transform-btn:focus,
.layout-btn:focus,
.pattern-btn:focus,
.animation-control-btn:focus {
    outline: 3px solid var(--accent-color);
    outline-offset: 2px;
}